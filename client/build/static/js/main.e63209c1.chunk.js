(this["webpackJsonpremote-music-player-client"]=this["webpackJsonpremote-music-player-client"]||[]).push([[0],{26:function(e){e.exports=JSON.parse('{"a":"http://localhost:8000"}')},52:function(e,t,n){e.exports=n(79)},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),l=n.n(c),u=n(6),o=n.n(u),s=n(8),i=n(7),m=n(46),f=n(47),p=n(48),d=n(49),h=n.n(d),E=n(26),b=new(function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"_fetch",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,n,a,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:"get",a=r.length>2&&void 0!==r[2]?r[2]:{},e.prev=3,e.next=6,h.a[n](E.a+t,a);case 6:return e.abrupt("return",e.sent.data);case 9:throw e.prev=9,e.t0=e.catch(3),e.t0.message;case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"mkdir",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,n,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1?a[1]:void 0,e.next=4,this._fetch("/mkdir".concat(t),"post",{name:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContent",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,this._fetch("/content".concat(t));case 3:return e.abrupt("return",e.sent.content);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadMusics",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,n,a,r,c,l,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.length>0&&void 0!==u[0]?u[0]:"",n=u.length>1?u[1]:void 0,a=new FormData,r=Object(m.a)(n);try{for(r.s();!(c=r.n()).done;)l=c.value,a.append("musics",l)}catch(o){r.e(o)}finally{r.f()}return e.next=7,this._fetch("/upload".concat(t),"post",a);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),v=Object(a.createContext)(),y=function(e){var t=e.children,n=Object(a.useState)(""),c=Object(i.a)(n,2),l=c[0],u=c[1],m=Object(a.useState)({}),f=Object(i.a)(m,2),p=f[0],d=f[1],h=Object(a.useState)(!0),y=Object(i.a)(h,2),g=y[0],O=y[1],j=Object(a.useState)(!1),x=Object(i.a)(j,2),k=x[0],C=x[1],w=Object(a.useState)(""),P=Object(i.a)(w,2),S=P[0],M=P[1],N=Object(a.useState)(""),F=Object(i.a)(N,2),L=F[0],B=F[1],A=function(e){return""===e?"/":e.replace(/!/g,"/")};return Object(a.useEffect)((function(){B(""!==S?"".concat(E.a,"/get").concat(A(l),"/").concat(S):"")}),[S]),Object(a.useEffect)((function(){C(""!==L)}),[L]),Object(a.useEffect)((function(){Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.t0=d,e.next=4,b.getContent(l);case 4:e.t1=e.sent,(0,e.t0)(e.t1),O(!1);case 7:case"end":return e.stop()}}),e)})))()}),[l]),r.a.createElement(v.Provider,{value:{path:l,setPath:u,content:p,setContent:d,loading:g,setLoading:O,fmtPath:A,showPlayer:k,setShowPlayer:C,actualPlayerMusic:S,setActualPlayerMusic:M,completePlayerMusic:L,setCompletePlayerMusic:B}},t)},g=n(35),O=function(){var e=Object(a.useContext)(v),t=e.path,n=e.fmtPath;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{bg:"dark",variant:"dark",fixed:"top"},r.a.createElement(g.a.Brand,{href:"#"},"Remote music player - ",n(t))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))},j=n(83),x=n(50),k=n(25),C=n(51),w=function(){var e=Object(a.useContext)(v),t=e.content,n=e.completePlayerMusic,c=e.actualPlayerMusic,l=e.setActualPlayerMusic;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"mx-2"},c),r.a.createElement("video",{width:"100%",height:"15",id:"player",autoPlay:!0,controls:!0,src:n,onEnded:function(){if(t.files.indexOf(c)!==t.files.length-1){var e=t.files.indexOf(c)+1;l(t.files[e])}}}))},P=n(12),S=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useContext)(v),u=l.path,m=l.setContent,f=l.setLoading;return Object(a.useEffect)((function(){Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),""!==n){e.next=9;break}return e.t0=m,e.next=5,b.getContent(u);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=24;break;case 9:return e.prev=9,e.t2=m,e.next=13,b.getContent(u);case 13:return e.t3=e.sent.directories.filter((function(e){return new RegExp(n,"g").test(e)})),e.next=16,b.getContent(u);case 16:e.t4=e.sent.files.filter((function(e){return new RegExp(n,"g").test(e)})),e.t5={directories:e.t3,files:e.t4},(0,e.t2)(e.t5),e.next=24;break;case 21:e.prev=21,e.t6=e.catch(9),console.error(e.t6.message);case 24:f(!1);case 25:case"end":return e.stop()}}),e,null,[[9,21]])})))()}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mx-3"},r.a.createElement(P.a.Group,{controlId:"search"},r.a.createElement(P.a.Label,null,"Search (Regular expresion)"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter the search pattern",onChange:function(e){c(e.target.value)}}))))},M=n(29),N=n(34),F=n(20),L=n(13),B=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)({dirName:""}),u=Object(i.a)(l,2),m=u[0],f=u[1],p=Object(a.useContext)(v),d=p.path,h=p.setLoading,E=p.setContent,y=function(){return c(!n)},g=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=3;break}return e.next=3,O();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.mkdir(d,m.dirName);case 2:return h(!0),e.t0=E,e.next=6,b.getContent(d);case 6:e.t1=e.sent,(0,e.t0)(e.t1),h(!1),y();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{variant:"primary",onClick:y},"Make a directory"),r.a.createElement(L.a,{show:n,onHide:y},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"Make a directory.")),r.a.createElement(L.a.Body,null,r.a.createElement(P.a.Group,{className:"mb-3",controlId:"name"},r.a.createElement(P.a.Label,null,"Directory name"),r.a.createElement(P.a.Control,{type:"text",name:"dirName",placeholder:"Enter directory name",onChange:function(e){var t=e.target,n=t.name,a=t.value;f(Object(N.a)(Object(N.a)({},m),{},Object(M.a)({},n,a)))},onKeyDown:g}))),r.a.createElement(L.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:function(){y(),f({dirName:""})}},"Close"),r.a.createElement(F.a,{variant:"primary",onClick:O},"Make"))))},A=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)([]),u=Object(i.a)(l,2),m=u[0],f=u[1],p=Object(a.useContext)(v),d=p.path,h=p.setLoading,E=p.setContent,y=function(){return c(!n)},g=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),h(!0),e.next=4,b.uploadMusics(d,m);case 4:return e.t0=E,e.next=7,b.getContent(d);case 7:e.t1=e.sent,(0,e.t0)(e.t1),h(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{variant:"success",onClick:y},"Upload music"),r.a.createElement(L.a,{show:n,onHide:y},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"Upload music")),r.a.createElement(L.a.Body,null,r.a.createElement(P.a.Group,{controlId:"musics"},r.a.createElement(P.a.Label,null,"Select the files"),r.a.createElement(P.a.File,{multiple:!0,onChange:function(e){return f(e.target.files)}}))),r.a.createElement(L.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:y},"Close"),r.a.createElement(F.a,{variant:"primary",onClick:g},"Save"))))},D=n(81),H=function(e){var t=e.dir,n=Object(a.useContext)(v),c=n.path,l=n.setPath;return r.a.createElement("tr",{onClick:function(){l(""===c?"/".concat(t):"".concat(c,"!").concat(t))},style:{cursor:"pointer"}},r.a.createElement("td",null,r.a.createElement(D.a,{size:32})),r.a.createElement("td",null,r.a.createElement("h5",null,t)))},I=n(82),R=function(e){var t=e.file,n=Object(a.useContext)(v),c=n.actualPlayerMusic,l=n.setActualPlayerMusic;return r.a.createElement("tr",{onClick:function(){l(t)},style:{cursor:"pointer"}},r.a.createElement("td",null,r.a.createElement(I.a,{size:32})),r.a.createElement("td",null,r.a.createElement("h5",{className:"text-".concat(c===t?"info":"normal")},t)))},_=function(){var e=Object(a.useContext)(v),t=e.loading,n=e.content,c=e.fmtPath,l=e.path,u=e.setPath,o=e.showPlayer;return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(w,null),r.a.createElement(x.a,null,r.a.createElement(k.a,{className:"my-2 mx-2"},r.a.createElement("h3",null,"Content of ",c(l))),r.a.createElement(k.a,{style:{textAlign:"right"},className:"my-2 mx-2"},r.a.createElement(B,null),"\xa0",r.a.createElement(A,null))),r.a.createElement(S,null),t?r.a.createElement(C.a,{animation:"border"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement("tr",{onClick:function(){if(""!==l){var e=l.split("!");e.pop(),u(e.join("!"))}},style:{cursor:""===l?"normal":"pointer"}},r.a.createElement("td",null,r.a.createElement(j.a,{size:32})),r.a.createElement("td",null,r.a.createElement("h5",null,".."))),0===n.directories.length&&0===n.files.length?r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"Don't have content to show")):r.a.createElement(r.a.Fragment,null,n.directories.map((function(e,t){return r.a.createElement(H,{key:t,dir:e})})),n.files.map((function(e,t){return r.a.createElement(R,{key:t,file:e})}))))))},z=function(){return r.a.createElement(y,null,r.a.createElement(O,null),r.a.createElement(_,null))};n(78);l.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.e63209c1.chunk.js.map